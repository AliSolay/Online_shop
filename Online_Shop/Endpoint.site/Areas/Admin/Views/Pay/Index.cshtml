@using OnlineShop.Application.Services.Finances.Query.GetRequestPayAdmin
@addTagHelper *, LazZiya.TagHelpers
@model RequestPayAdminDto
@{
    ViewData["Title"] = "Index";
    Layout = "~/Areas/Admin/Views/Shared/_Adminlayout.cshtml";
    int pageNumber = 1;
    int pageSize = 10;
    int.TryParse(Context.Request.Query["page"], out pageNumber);
    int.TryParse(Context.Request.Query["pageSize"], out pageSize);
}

    <div class="content-wrapper">
        <div class="container-fluid">
            <!-- Zero configuration table -->
            <section id="configuration">

                <div class="row">
                    <div class="col-12">
                        <div class="card">
                            <div class="card-header">
                                <div class="card-title-wrap bar-success">
                                    <h4 class="card-title">فاکتور ها</h4>
                                </div>
                            </div>
                            <div class="card-body collapse show">
                                <div class="card-block card-dashboard">
                                    <p class="card-text">لیست فاکتورهای فروشگاه کالا مارکت</p>

                                    <form method="get" class="col-xl-4 col-lg-6 col-md-12 mb-1">
                                        <fieldset class="form-group">
                                            <input type="text" class="form-control" name="serchkey">
                                            <button class="btn btn-success">جستجو</button>
                                        </fieldset>
                                    </form>

                                    <div id="DataTables_Table_0_wrapper" class="dataTables_wrapper container-fluid dt-bootstrap4">
                                        <div class="col-sm-12">
                                            <table class="table table-striped table-bordered zero-configuration dataTable" id="DataTables_Table_0" role="grid" aria-describedby="DataTables_Table_0_info">
                                                <thead>
                                                    <tr role="row">
                                                        <th class="sorting_asc" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-sort="ascending" aria-label="  activate to sort column descending" style="width: 222px;"> شماره فاکتور</th>
                                                        <th class="sorting_asc" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-sort="ascending" aria-label="  activate to sort column descending" style="width: 222px;"> مبلغ</th>
                                                        <th class="sorting_asc" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-sort="ascending" aria-label="  activate to sort column descending" style="width: 222px;"> کاربر</th>
                                                        <th class="sorting_asc" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-sort="ascending" aria-label="  activate to sort column descending" style="width: 222px;"> پرداخت شده؟</th>
                                                        <th class="sorting_asc" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-sort="ascending" aria-label="  activate to sort column descending" style="width: 222px;"> تاریخ پرداخت</th>
                                                        <th class="sorting_asc" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-sort="ascending" aria-label="  activate to sort column descending" style="width: 222px;">  RefId </th>
                                                        <th class="sorting_asc" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-sort="ascending" aria-label="  activate to sort column descending" style="width: 222px;">  Authority </th>
                                                        <th class="sorting_asc" tabindex="0" aria-controls="DataTables_Table_0" rowspan="1" colspan="1" aria-sort="ascending" aria-label="  activate to sort column descending" style="width: 222px;">    </th>
                                                     </tr>
                                                </thead>
                                                <tbody>

                                                    @foreach (var item in Model.ResultPayDtos)
                                                    {
                                                    <tr role="row" class="odd">
                                                            <td class="sorting_1">@item.Id</td>
                                                            <td>@item.Amount.ToString("n0")</td>
                                                            <td>@item.UserName</td>
                                                            <td>@if (@item.IsPay == true)
                                                                {
                                                                    <span class="icon-check"></span>
                                                                }
                                                                else
                                                                {
                                                                    <span class="icon-close"></span>
                                                                }
                                                                
                                                            </td>
                                                            <td>@if (@item.PayDate == null)
                                                                {
                                                                    <span class="icon-close"></span>
                                                                }
                                                                else{
                                                                    @item.PayDate
                                                                }
                                                                </td>
                                                            <td>@item.RefId</td>
                                                            <td>@item.Authority</td>
                                                            <td>
                                                           
                                                            </td>
                                                        </tr>
                                                   }
                                            </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="pagination-product">
                <nav aria-label="Page navigation example">
                <paging total-records="Model.Rows"
                        page-no="@pageNumber==0?1:pageNumber"
                        page-size="@pageSize==0?10:pageNumber"
                        show-prev-next="true"
                        show-total-pages="false"
                        show-total-records="false"
                        show-page-size-nav="true"
                        show-first-numbered-page="true"
                        show-last-numbered-page="true"
                        query-string-key-page-no="Page"
                        query-string-key-page-size="pageSize"
                        query-string-value="@@(Request.QueryString.Value)"
                        gap-size="2">
                </paging>

            </nav>
        </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </section>
        </div>
    </div>
